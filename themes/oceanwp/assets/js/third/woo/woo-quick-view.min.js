var $j=jQuery.noConflict();$j(document).on("ready",function(){if("undefined"==typeof oceanwpLocalize)return!1;var t=$j("#owp-qv-wrap"),a=$j("#owp-qv-content");$j(document).on("click",".owp-quick-view",function(e){e.preventDefault();var n=$j(this),o=$j(this).data("product_id");n.parent().addClass("loading"),$j.ajax({url:oceanwpLocalize.ajax_url,data:{action:"oceanwp_product_quick_view",product_id:o},success:function(e){var n=$j("html").innerWidth();$j("html").css("overflow","hidden");var o=$j("html").innerWidth();$j("html").css("margin-right",o-n),$j("html").addClass("owp-qv-open"),a.html(e),t.fadeIn(),t.addClass("is-visible");var r=a.find(".variations_form");r.trigger("check_variations"),r.trigger("reset_image");var i=a.find(".variations_form");i.length>0&&(i.wc_variation_form(),i.find("select").change());var d=a.find(".owp-qv-image");d.find("li").length>1&&d.flexslider()}}).done(function(){n.parent().removeClass("loading")})});var e=function(){$j("html").css({overflow:"","margin-right":""}),$j("html").removeClass("owp-qv-open"),t.fadeOut(),t.removeClass("is-visible"),setTimeout(function(){a.html("")},600)};$j(".owp-qv-overlay, .owp-qv-close").on("click",function(t){t.preventDefault(),e()}),$j(document).keyup(function(t){27==t.keyCode&&e()});var n=function(){$j(document.body).on("click","#owp-qv-content .product:not(.product-type-external) .single_add_to_cart_button",this.onAddToCart).on("added_to_cart",this.updateButton)};n.prototype.onAddToCart=function(t){t.preventDefault();var a=$j(this),e=$j(this).val(),n=$j('input[name="variation_id"]').val(),o=$j('input[name="quantity"]').val(),r=$j(this).closest(".variations_form"),i=r.find("select[name^=attribute]"),d={};a.removeClass("added"),a.addClass("loading"),i.length||(i=r.find("[name^=attribute]:checked")),i.length||(i=r.find("input[name^=attribute]")),i.each(function(){var t,a,e=$j(this),n=e.attr("name"),o=e.val();e.removeClass("error"),0===o.length?(t=n.lastIndexOf("_"),a=n.substring(t+1),e.addClass("required error").before("Please select "+a)):d[n]=o}),""!=n?$j.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:e,variation_id:n,variation:d,quantity:o},success:function(t){$j(document.body).trigger("wc_fragment_refresh"),$j(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])}}):$j.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:e,quantity:o},success:function(t){$j(document.body).trigger("wc_fragment_refresh"),$j(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a])}})},n.prototype.updateButton=function(t,a,e,n){(n=void 0!==n&&n)&&(n.removeClass("loading"),n.addClass("added"),oceanwpLocalize.is_cart||0!==n.parent().find(".added_to_cart").length||n.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new n});