function acp_get_alpha_value_from_color(a){var o;return(a=a.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(o=100*parseFloat(a.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),o=parseInt(o)):o=100,o}function acp_update_alpha_value_on_color_control(a,o,e,l){var t,r,c;t=o.data("a8cIris"),r=o.data("wpWpColorPicker"),t._color._alpha=a,c=t._color.toString(),o.val(c),r.toggler.css({"background-color":c}),l&&acp_update_alpha_value_on_alpha_slider(a,e),o.wpColorPicker("color",c)}function acp_update_alpha_value_on_alpha_slider(a,o){o.slider("value",a),o.find(".ui-slider-handle").text(a.toString())}Color.prototype.toString=function(a){if("no-alpha"==a)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var o=parseInt(this._color,10).toString(16);if(this.error)return"";if(o.length<6)for(var e=6-o.length-1;e>=0;e--)o="0"+o;return"#"+o},jQuery(document).ready(function(a){a(".alpha-color-control").each(function(){var o,e,l,t,r,c,i,n;o=a(this),e=o.val().replace(/\s+/g,""),l=o.attr("data-show-opacity"),t=o.attr("data-default-color"),r={change:function(a,e){var l,r,n;l=o.attr("data-customize-setting-link"),r=o.wpColorPicker("color"),t==r&&(n=acp_get_alpha_value_from_color(r),i.find(".ui-slider-handle").text(n)),wp.customize(l,function(a){a.set(r)}),c.find(".transparency").css("background-color",e.color.toString("no-alpha"))},palettes:oceanwpLocalize.colorPalettes},o.wpColorPicker(r),c=o.parents(".wp-picker-container:first"),a('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(c.find(".wp-picker-holder")),i=c.find(".alpha-slider"),n={create:function(o,l){var t=a(this).slider("value");a(this).find(".ui-slider-handle").text(t),a(this).siblings(".transparency ").css("background-color",e)},value:acp_get_alpha_value_from_color(e),range:"max",step:1,min:0,max:100,animate:300},i.slider(n),"true"==l&&i.find(".ui-slider-handle").addClass("show-opacity"),c.find(".min-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(0,o,i,!0)}),c.find(".max-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(100,o,i,!0)}),c.find(".iris-palette").on("click",function(e){e.preventDefault();var l,t;acp_update_alpha_value_on_alpha_slider(t=acp_get_alpha_value_from_color(l=a(this).css("background-color")),i),100!=t&&(l=l.replace(/[^,]+(?=\))/,(t/100).toFixed(2))),o.wpColorPicker("color",l)}),c.find(".button.wp-picker-clear").on("click",function(a){a.preventDefault();var e=o.attr("data-customize-setting-link");o.wpColorPicker("color","#ffffff"),wp.customize(e,function(a){a.set("")}),acp_update_alpha_value_on_alpha_slider(100,i)}),c.find(".button.wp-picker-default").on("click",function(a){a.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(t),i)}),o.on("input",function(o){o.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(a(this).val()),i)}),i.slider().on("slide",function(e,l){acp_update_alpha_value_on_color_control(parseFloat(l.value)/100,o,i,!1),a(this).find(".ui-slider-handle").text(l.value)}),a(".iris-picker").on("click",function(a){a.preventDefault()})})});